(()=>{var e={632:(e,t,n)=>{var o;!function(){var i=function(e){return i.utils.extend({},i.plugins,(new i.Storage).init(e))};i.version="0.4.11",i.utils={extend:function(){for(var e="object"==typeof arguments[0]?arguments[0]:{},t=1;t<arguments.length;t++)if(arguments[t]&&"object"==typeof arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e},each:function(e,t,n){if(this.isArray(e)){for(var o=0;o<e.length;o++)if(!1===t.call(n,e[o],o))return}else if(e)for(var i in e)if(!1===t.call(n,e[i],i))return},tryEach:function(e,t,n,o){this.each(e,(function(e,i){try{return t.call(o,e,i)}catch(t){if(this.isFunction(n))try{n.call(o,e,i,t)}catch(e){}}}),this)},registerPlugin:function(e){i.plugins=this.extend(e,i.plugins)},getTypeOf:function(e){return null==e?""+e:Object.prototype.toString.call(e).replace(/^\[object\s(.*)\]$/,(function(e,t){return t.toLowerCase()}))}};for(var r=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp","Undefined","Null"],s=0;s<r.length;s++)i.utils["is"+r[s]]=function(e){return function(t){return i.utils.getTypeOf(t)===e.toLowerCase()}}(r[s]);i.plugins={},i.options=i.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365,keyDelimiter:"."},window.Basil?window.Basil.options:{}),i.Storage=function(){var e="b45i1"+(Math.random()+1).toString(36).substring(7),t={},n=function(e){var t=i.utils.getTypeOf(e);return"string"===t&&e||"number"===t||"boolean"===t},o=function(e){return i.utils.isArray(e)?e:i.utils.isString(e)?[e]:[]},r=function(e,t,o){var r="";return n(t)?r+=t:i.utils.isArray(t)&&(r=(t=i.utils.isFunction(t.filter)?t.filter(n):t).join(o)),r&&n(e)?e+o+r:r},s=function(e,t,o){return n(e)?t.replace(new RegExp("^"+e+o),""):t},d={engine:null,check:function(){try{window[this.engine].setItem(e,!0),window[this.engine].removeItem(e)}catch(e){return!1}return!0},set:function(e,t,n){if(!e)throw Error("invalid key");window[this.engine].setItem(e,t)},get:function(e){return window[this.engine].getItem(e)},remove:function(e){window[this.engine].removeItem(e)},reset:function(e){for(var t,n=0;n<window[this.engine].length;n++)t=window[this.engine].key(n),e&&0!==t.indexOf(e)||(this.remove(t),n--)},keys:function(e,t){for(var n,o=[],i=0;i<window[this.engine].length;i++)n=window[this.engine].key(i),e&&0!==n.indexOf(e)||o.push(s(e,n,t));return o}};return t.local=i.utils.extend({},d,{engine:"localStorage"}),t.session=i.utils.extend({},d,{engine:"sessionStorage"}),t.memory={_hash:{},check:function(){return!0},set:function(e,t,n){if(!e)throw Error("invalid key");this._hash[e]=t},get:function(e){return this._hash[e]||null},remove:function(e){delete this._hash[e]},reset:function(e){for(var t in this._hash)e&&0!==t.indexOf(e)||this.remove(t)},keys:function(e,t){var n=[];for(var o in this._hash)e&&0!==o.indexOf(e)||n.push(s(e,o,t));return n}},t.cookie={check:function(t){if(!navigator.cookieEnabled)return!1;if(window.self!==window.top){var n="thirdparty.check="+Math.round(1e3*Math.random());return document.cookie=n+"; path=/",-1!==document.cookie.indexOf(n)}if(t&&t.secure)try{this.set(e,e,t);var o=this.get(e)===e;return this.remove(e),o}catch(e){return!1}return!0},set:function(e,t,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!e)throw Error("invalid key");var o=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n.expireDays){var i=new Date;i.setTime(i.getTime()+24*n.expireDays*60*60*1e3),o+="; expires="+i.toGMTString()}if(n.domain&&n.domain!==document.domain){var r=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(r)||r.split(".").length<=1)throw Error("invalid domain");o+="; domain="+n.domain}n.sameSite&&["lax","strict","none"].includes(n.sameSite.toLowerCase())&&(o+="; SameSite="+n.sameSite),!0===n.secure&&(o+="; Secure"),document.cookie=o+"; path=/"},get:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n=encodeURIComponent(e),o=document.cookie?document.cookie.split(";"):[],i=o.length-1;i>=0;i--)if(0===(t=o[i].replace(/^\s*/,"")).indexOf(n+"="))return decodeURIComponent(t.substring(n.length+1,t.length));return null},remove:function(e){this.set(e,"",{expireDays:-1});for(var t=document.domain.split("."),n=t.length;n>1;n--)this.set(e,"",{expireDays:-1,domain:"."+t.slice(-n).join(".")})},reset:function(e){for(var t,n,o=document.cookie?document.cookie.split(";"):[],i=0;i<o.length;i++)n=(t=o[i].replace(/^\s*/,"")).substr(0,t.indexOf("=")),e&&0!==n.indexOf(e)||this.remove(n)},keys:function(e,t){if(!this.check())throw Error("cookies are disabled");for(var n,o,i=[],r=document.cookie?document.cookie.split(";"):[],d=0;d<r.length;d++)n=r[d].replace(/^\s*/,""),o=decodeURIComponent(n.substr(0,n.indexOf("="))),e&&0!==o.indexOf(e)||i.push(s(e,o,t));return i}},{init:function(e){return this.setOptions(e),this},setOptions:function(e){this.options=i.utils.extend({},this.options||i.options,e)},support:function(e){return t.hasOwnProperty(e)},check:function(e){return!!this.support(e)&&t[e].check(this.options)},set:function(e,n,s){if(s=i.utils.extend({},this.options,s),!(e=r(s.namespace,e,s.keyDelimiter)))return!1;n=!0===s.raw?n:function(e){return JSON.stringify(e)}(n);var d=null;return i.utils.tryEach(o(s.storages),(function(o,i){return t[o].set(e,n,s),d=o,!1}),null,this),!!d&&(i.utils.tryEach(o(s.storages),(function(n,o){n!==d&&t[n].remove(e)}),null,this),!0)},get:function(e,n){if(n=i.utils.extend({},this.options,n),!(e=r(n.namespace,e,n.keyDelimiter)))return null;var s=null;return i.utils.tryEach(o(n.storages),(function(o,i){if(null!==s)return!1;s=t[o].get(e,n)||null,s=!0===n.raw?s:function(e){return e?JSON.parse(e):null}(s)}),(function(e,t,n){s=null}),this),s},remove:function(e,n){n=i.utils.extend({},this.options,n),(e=r(n.namespace,e,n.keyDelimiter))&&i.utils.tryEach(o(n.storages),(function(n){t[n].remove(e)}),null,this)},reset:function(e){e=i.utils.extend({},this.options,e),i.utils.tryEach(o(e.storages),(function(n){t[n].reset(e.namespace)}),null,this)},keys:function(e){e=e||{};var t=[];for(var n in this.keysMap(e))t.push(n);return t},keysMap:function(e){e=i.utils.extend({},this.options,e);var n={};return i.utils.tryEach(o(e.storages),(function(o){i.utils.each(t[o].keys(e.namespace,e.keyDelimiter),(function(e){n[e]=i.utils.isArray(n[e])?n[e]:[],n[e].push(o)}),this)}),null,this),n}}},i.memory=(new i.Storage).init({storages:"memory",namespace:null,raw:!0}),i.cookie=(new i.Storage).init({storages:"cookie",namespace:null,raw:!0}),i.localStorage=(new i.Storage).init({storages:"local",namespace:null,raw:!0}),i.sessionStorage=(new i.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=i,void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(632),t=n.n(e);(function(){const e=function(){let e,t,n,o,i,r,s;return{queryDomElements:function(){e=document.getElementById("new-todo"),t=document.getElementById("project-select-all-button"),n=document.getElementById("new-project-form"),s=document.getElementById("project-form-error"),o=document.getElementById("project-list"),i=document.getElementById("todo-list"),r=document.getElementById("main-section")},getNewTodoButton:function(){return null!=e&&e},getNewProjectForm:function(){return null!=n&&n},getAllProjectsButton:function(){return null!=t&&t},refreshProjects:function(e,t,n){o.innerHTML="",e.forEach((e=>{let i=document.createElement("div"),r=document.createElement("button"),s=document.createElement("button");i.classList.add("project-select-entry"),r.classList.add("project-select-button"),s.classList.add("delete-project-button"),i.setAttribute("data-project-name",e.name),r.textContent=e.name,s.textContent="-",r.addEventListener("click",t),s.addEventListener("click",n),i.appendChild(r),i.appendChild(s),o.appendChild(i)}))},refreshTodos:function(e,t,n,o,r){i.innerHTML="",i.style.display="block",null!=i.nextSibling&&i.nextSibling.remove(),e.sort(((e,t)=>e.dueDate<t.dueDate?-1:1)).forEach((e=>{let s=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div"),f=document.createElement("button"),g=document.createElement("button"),v=document.createElement("button");s.classList.add("todo-card"),d.classList.add("todo-card-header"),e.isCompleted?d.classList.add("todo-done"):d.classList.add("priority-"+e.priority.toLowerCase()),a.classList.add("todo-title"),l.classList.add("todo-due"),c.classList.add("todo-project"),u.classList.add("todo-details-hidden"),m.classList.add("todo-description-label"),p.classList.add("todo-description"),h.classList.add("todo-button-container"),f.classList.add(e.isCompleted?"todo-notdone-button":"todo-done-button"),g.classList.add("todo-edit-button"),v.classList.add("todo-delete-button"),f.classList.add("basic-button"),g.classList.add("basic-button"),v.classList.add("basic-button"),a.textContent=e.title,l.textContent="Due: "+e.dueDate,c.textContent=e.project,m.textContent="Description:",p.textContent=e.description,f.textContent=e.isCompleted?"NOT DONE":"DONE",g.textContent="EDIT",v.textContent="DELETE",f.addEventListener("click",e.isCompleted?r.bind(this,e.id):t.bind(this,e.id)),g.addEventListener("click",n.bind(this,e.id)),v.addEventListener("click",o.bind(this,e.id)),s.setAttribute("data-todo-id",e.id),d.addEventListener("click",(()=>{u.classList.toggle("todo-details"),u.classList.toggle("todo-details-hidden")})),d.appendChild(a),d.appendChild(l),d.appendChild(c),h.appendChild(f),h.appendChild(g),h.appendChild(v),u.appendChild(m),u.appendChild(p),u.appendChild(h),s.appendChild(d),s.appendChild(u),i.appendChild(s)}))},displayNewTodoForm:function(e){if(document.getElementById("new-todo-form")||document.getElementById("todo-edit-form"))return!1;let t=document.createElement("div"),n=document.createElement("form"),o=document.createElement("label"),s=document.createElement("input"),d=document.createElement("label"),a=document.createElement("textarea"),l=document.createElement("label"),c=document.createElement("input"),u=document.createElement("label"),m=document.createElement("select"),p=document.createElement("option"),h=document.createElement("option"),f=document.createElement("option"),g=document.createElement("label"),v=document.createElement("select"),E=document.createElement("input");return t.id="new-todo-form-container",n.id="new-todo-form",s.name="title",a.name="description",c.name="due",m.name="priority",v.name="project",s.required=!0,a.required=!0,c.required=!0,a.required=!0,E.type="submit",c.type="date",c.valueAsDate=new Date,s.maxLength=20,a.maxLength=400,o.textContent="Title",d.textContent="Description",l.textContent="Due",u.textContent="Priority",g.textContent="Project",p.textContent="Low",h.textContent="Medium",f.textContent="High",o.classList.add("form-label"),d.classList.add("form-label"),l.classList.add("form-label"),u.classList.add("form-label"),g.classList.add("form-label"),s.classList.add("form-input"),a.classList.add("form-input"),c.classList.add("form-input"),m.classList.add("form-input"),v.classList.add("form-input"),E.classList.add("basic-button"),n.classList.add("form"),t.classList.add("form-container"),e.forEach((e=>{let t=document.createElement("option");t.textContent=e.name,v.appendChild(t)})),m.appendChild(p),m.appendChild(h),m.appendChild(f),n.appendChild(o),n.appendChild(s),n.appendChild(d),n.appendChild(a),n.appendChild(l),n.appendChild(c),n.appendChild(u),n.appendChild(m),n.appendChild(g),n.appendChild(v),n.appendChild(E),t.appendChild(n),i.style.display="none",r.appendChild(t),n},displayTodoEditForm:function(e,t){let n=document.createElement("div"),o=document.createElement("form"),s=document.createElement("label"),d=document.createElement("input"),a=document.createElement("label"),l=document.createElement("textarea"),c=document.createElement("label"),u=document.createElement("input"),m=document.createElement("label"),p=document.createElement("select"),h=document.createElement("option"),f=document.createElement("option"),g=document.createElement("option"),v=document.createElement("label"),E=document.createElement("select"),C=document.createElement("input");switch(n.id="todo-edit-form-container",o.id="todo-edit-form",d.name="title",l.name="description",u.name="due",p.name="priority",E.name="project",d.required=!0,l.required=!0,u.required=!0,C.type="submit",u.type="date",u.value=e.dueDate,d.value=e.title,l.value=e.description,C.value="Edit",d.maxLength=20,l.maxLength=400,s.textContent="Title",a.textContent="Description",c.textContent="Due",m.textContent="Priority",v.textContent="Project",h.textContent="Low",f.textContent="Medium",g.textContent="High",s.classList.add("form-label"),a.classList.add("form-label"),c.classList.add("form-label"),m.classList.add("form-label"),v.classList.add("form-label"),d.classList.add("form-input"),l.classList.add("form-input"),u.classList.add("form-input"),p.classList.add("form-input"),E.classList.add("form-input"),o.classList.add("form"),n.classList.add("form-container"),t.forEach((t=>{let n=document.createElement("option");n.textContent=t.name,e.project==t.name&&(n.selected=!0),E.appendChild(n)})),e.priority){case"Low":h.selected=!0;break;case"Medium":f.selected=!0;break;case"High":g.selected=!0}return p.appendChild(h),p.appendChild(f),p.appendChild(g),o.appendChild(s),o.appendChild(d),o.appendChild(a),o.appendChild(l),o.appendChild(c),o.appendChild(u),o.appendChild(m),o.appendChild(p),o.appendChild(v),o.appendChild(E),o.appendChild(C),n.appendChild(o),i.style.display="none",r.appendChild(n),o},showProjectFormError:function(e){s.textContent=e}}}(),n=function(){const e=new(t())({namespace:"foo",storages:["local"]});let n,o,i;const r=function(e){return{name:e}};function s(){e.set("todos",n),e.set("projects",o),e.set("todoID",i)}return{getFromStorage:function(){n=e.get("todos")||[],o=e.get("projects")||[r("Default")],i=e.get("todoID")||0},getProjects:function(){return o},getTodos:function(e){return e?n.filter((t=>t.project==e)):n},markTodoDone:function(e){n.forEach((t=>{t.id==e&&(t.isCompleted=!0)})),s()},markTodoNotDone:function(e){n.forEach((t=>{t.id==e&&(t.isCompleted=!1)})),s()},deleteTodo:function(e){n=n.filter((t=>!(t.id==e))),s()},deleteProject:function(e){o=o.filter((t=>!(t.name==e))),n=n.filter((t=>!(t.project==e))),s()},storeNewTodo:function(e,t,o,r,d){let a=function(e,t,n,o,r){return{id:i++,title:e,description:t,dueDate:n,priority:o,project:r,isCompleted:!1}}(e,t,o,r,d);n.push(a),s()},storeNewProject:function(e){let t=r(e);return o.push(t),s(),!0},editExistingTodo:function(e,t,o,i,r,d){n.forEach((n=>{n.id==e&&(n.title=t,n.description=o,n.dueDate=i,n.priority=r,n.project=d)})),s()}}}();function o(t,o){let i=n.getTodos(o);e.refreshTodos(i,r,h,d,s)}function i(){let t=n.getProjects();e.refreshProjects(t,a,l)}function r(e){n.markTodoDone(e),o()}function s(e){n.markTodoNotDone(e),o()}function d(e){n.deleteTodo(e),o()}function a(){o(0,event.target.parentElement.getAttribute("data-project-name"))}function l(){let e=event.target.parentElement.getAttribute("data-project-name");n.deleteProject(e),i(),o()}function c(e){""==e.description.value||e.description.value.length>400?(e.description.focus(),event.preventDefault()):(""==e.title.value||e.title.value.length>20)&&(e.title.focus(),event.preventDefault())}function u(){c(this),n.storeNewTodo(this.title.value,this.description.value,this.due.value,this.priority.value,this.project.value)}function m(e){c(this),n.editExistingTodo(e,this.elements.title.value,this.elements.description.value,this.elements.due.value,this.elements.priority.value,this.elements.project.value)}function p(){let t=n.getProjects(),o=e.displayNewTodoForm(t);o&&o.addEventListener("submit",u)}function h(t){let o=n.getTodos(),i=n.getProjects(),r=o.find((e=>e.id==t)),s=e.displayTodoEditForm(r,i);s.addEventListener("submit",m.bind(s,t))}function f(){var t;(""==this.title.value||this.title.value.length>20)&&(this.title.focus(),event.preventDefault()),t=this.title.value,n.getProjects().some((e=>e.name==t))?(e.showProjectFormError("This project already exists!"),event.preventDefault()):(e.showProjectFormError(""),n.storeNewProject(this.title.value)),i()}return{init:function(){n.getFromStorage(),e.queryDomElements(),i(),o(),e.getNewTodoButton().addEventListener("click",p),e.getNewProjectForm().addEventListener("submit",f),e.getAllProjectsButton().addEventListener("click",o)}}})().init()})()})();